<div class="container-fluid">
  <form #myForm="ngForm" (submit)="voucherJournalCreateUpdate(myForm)">
  <!-- Title -->
  <div class="bg-light border rounded p-3 mb-3">{{'voucher_journal' |translate}}</div>
  <!-- Utlity -->
  <div class="divUtilityBar d-flex ">
    <input  type="button" class="btn btn-primary float-right" (click)="openPopup()" value="{{'search'|translate}}">
    <input type="submit" value="{{'save-all'|translate}}" class="btn btn-primary" [disabled]="isUpdate"/>
    <div class="col-md-1">
      <input type="button" id="btnNew" value="{{'new'|translate}}" (click)="utilityService.reloadComponent()" class="btn btn-primary" />
    </div>
    <div class="col-md-1">
      <input type="button" id="btnDelete" value="{{'delete'|translate}}" (click)="voucherJournalDelete(voucherJournal.id)" class="btn btn-danger" [disabled]="isUpdate"/>
    </div>
    <div class="col-md-2">
      <input type="button" id="btnIsUpdate" value="{{'update_status'|translate}}" (click)="voucherJournalIsUpdateableToggle()" class="btn btn-primary" />
    </div>
  </div>

  <!-- Head -->
  <div class="bg-white border rounded p-3">
    <div class="form group" *ngIf="isDetailsEmpty">
      <!-- <span  class="text-danger">
        {{'required_details'|translate}}
      </span> -->
    </div>
      <div class="row">

          <!-- Main Inputs -->
          <div class="col-sm-8">

              <!-- 1st Row Input -->
              <div class="row">

                  <!-- <div class="form-group">
                      <input type="text" class="form-control form-control-sm w-25 txtDocId d-none" value="0" />
                      <input type="text" class="form-control form-control-sm w-25 txtCheckDate d-none" value="0" />
                  </div> -->


                  <!-- Transaction Type -->
                  <div class="col-sm-4">
                      <div class="form-group">
                          <label class="label-control small">{{'voucher_type' |translate}}</label>
                          <div class="d-flex">
                              <input type="number" class="form-control form-control-sm w-25" name="txtjournalTypeId" [(ngModel)]="voucherJournal.journalTypeId"  disabled />
                              <!-- value="2" -->
                              <!-- TO DO different language inputs Yehia -->
                              <input type="text" id="start" class="form-control form-control-sm" name="txtjournalTypeName"  disabled [(ngModel)]="journalTypeName"/>                               
                              <!-- value="{{'voucher_journalentry' |translate}}" -->
                          </div>
                      </div>
                  </div>

                  <!-- Is Posted -->
                  <div class="col-sm-2">
                      <div class="form-group">
                          <label class="label-control small">{{'voucher_postingentry' |translate}}</label>
                          <div class="custom-control custom-checkbox">
                              <input type="checkbox" class="custom-control-input chkDocIsPosted" disabled name="chkIsPosted" [(ngModel)]="voucherJournal.isPosted">
                              <label class="custom-control-label small" for="chkDocIsPosted">{{'voucher_posted' |translate}}</label>
                          </div>
                      </div>
                  </div>

              </div> <!-- End of 1st Row of Main Inputs -->
              <!-- 2nd Row Input -->
              <div class="row">
                  <div class="col-sm-12">
                      <div class="form-group">
                          <label class="label-control small">{{'voucher_note' |translate}}</label>
                          <textarea class="form-control form-control-sm txtDocNote" name="txtNotes" [(ngModel)]="voucherJournal.notes" [disabled]="isUpdate"></textarea>
                          <!-- onblur="funFoucus('dtpDocDate')" -->
                      </div>
                  </div>
              </div>
              <!-- 3rd Row Input -->
              <div class="bg-light border p-3 rounded">
                  <div class="row">
                      <div class="form-group checkInput col-sm-3">
                          <div class="custom-control custom-checkbox">
                              <input type="checkbox" class="custom-control-input bg-info chkIsDocRepeated" name="chkIsRepeated" [(ngModel)]="voucherJournal.isRepeated" [disabled]="isUpdate">
                              <label class="custom-control-label small" >{{'voucher_preventry' |translate}}</label>
                          </div>
                      </div>
                      <div class="form-group checkInput  col-sm-3">
                          <div class="custom-control custom-checkbox">
                              <input type="checkbox" class="custom-control-input chkIsDocOpps" name="chkIsReversed" [(ngModel)]="voucherJournal.isReversed" [disabled]="isUpdate">
                              <label class="custom-control-label small">{{'voucher_gloppsvoucherid' |translate}}</label>
                          </div>
                      </div>
                      <div class="form-group checkInput  col-sm-3">
                          <div class="custom-control custom-checkbox">
                              <input type="checkbox" class="custom-control-input chkIsDocWait" name="chkIsIncomplete" [(ngModel)]="voucherJournal.isIncomplete" [disabled]="isUpdate">
                              <label class="custom-control-label small">{{'voucher_incomplete' |translate}}</label>
                          </div>
                      </div>
                      <div class="form-group checkInput  col-sm-3">
                          <div class="custom-control custom-checkbox">
                              <input type="checkbox" class="custom-control-input chkIsDocCancelled" name="chkIsCancelled" [(ngModel)]="voucherJournal.isCancelled" [disabled]="isUpdate"> 
                              <label class="custom-control-label small">{{'voucher_canceled' |translate}}</label>
                          </div>
                      </div>
                  </div>

              </div> <!-- End of 3rd Row -->

          </div> <!-- End of Main Inputs -->
          <!-- Left Controls [Doc No, Ref, ..] -->
          <div class="col-sm-4 mt-3">

              <!-- Doc No -->
              <div class="row controlRow">
                  <div class="col-sm-4">
                      <label class="small float-right pt-2">{{'voucher_no' |translate}}</label>
                  </div>
                  <div class="col-sm-8">
                      <input type="text" class="form-control form-control-sm txtDocNo" disabled name="txtDocumentNumber" [(ngModel)]="voucherJournal.documentNumber"/>
                  </div>
              </div>

              <!-- Doc Date -->
              <div class="row controlRow">
                  <div class="col-sm-4">
                      <label class="small float-right pt-2">{{'voucher_date' |translate}}</label>
                  </div>
                  <div class="col-sm-8">
                      <!-- <input type="date" class="form-control form-control-sm dtpDocDate" name="dtp.date" [(ngModel)]="voucherJournal.date"/> -->
                      <input #date ="ngModel" type="date" class="form-control form-control-sm dtpDocDate" required ngClass="invalid" name="dtp.date"  [ngModel] ="voucherJournal.date | date:'yyyy-MM-dd'" (ngModelChange)="voucherJournal.date = $event" [disabled]="isUpdate"
                      [ngClass]="{'is-invalid': (date.invalid || !isCurrentFinancialYear) && (date.touched || date.dirty)}" (change)="checkForcurrentSelectedDateYear()"/>
                  </div>
              </div>

              <!-- Ref Doc No -->
              <div class="row controlRow">
                  <div class="col-sm-4">
                      <label class="small float-right pt-2">{{'voucher_refrenceno' |translate}}</label>
                  </div>
                  <div class="col-sm-8">
                      <input type="text" class="form-control form-control-sm txtDocRefNo" name="txtReferenceNumber" [(ngModel)]="voucherJournal.referenceNumber" [disabled]="isUpdate"/>
                  </div>
              </div>

              <!-- Ref Doc Date -->
              <div class="row controlRow">
                  <div class="col-sm-4">
                      <label class="small float-right pt-2">{{'voucher_refrencedate' |translate}}</label>
                  </div>
                  <div class="col-sm-8">
                      <!-- <input type="date" class="form-control form-control-sm dtpDocRefDate" name="dtpReferenceDate" [(ngModel)]="voucherJournal.referenceDate"/> -->
                      <input type="date" class="form-control form-control-sm dtpDocRefDate" name="dtpReferenceDate" [ngModel] ="voucherJournal.referenceDate | date:'yyyy-MM-dd'" (ngModelChange)="voucherJournal.referenceDate = $event" [disabled]="isUpdate"/>
                      <!-- onblur="funFoucus('txtAccountCode')" -->
                  </div>
              </div>

              <!-- Source -->
              <div class="row controlRow">
                  <div class="col-sm-4">
                      <label class="small float-right pt-2">{{'voucher_transactionsource' |translate}}</label>
                  </div>
                  <div class="col-sm-8 d-flex">
                      <input type="number" class="form-control form-control-sm w-25 txtTransactionSource" disabled name="txtSourceTypeId" [(ngModel)]="voucherJournal.sourceTypeId"/>                    
                      <!-- value="1" -->
                      <!-- TO DO different language inputs Yehia -->
                      <input type="text" class="form-control form-control-sm w-75 txtTransactionSourceNamel1" disabled name="txtSourceTypeName" [(ngModel)]="sourceTypeName"/>                    
                      <!--value="{{'voucher_accounts' |translate}}"-->
                  </div>
                  
              </div>
          </div>
      </div>
  </div>
  <!-- Details Main -->
  <div class="bg-white border rounded p-3 mt-3 divGlVoucher">
      <!-- Details -->
      <table #table class="table table-sm table-responsive-sm">
          <thead>
              <tr>
                  <th></th>
                  <th width="7%">
                      <div>{{'voucher_accountno' |translate}}</div>
                  </th>
                  <th width="15%">
                      <div>{{'voucher_accountdesc' |translate}}</div>
                  </th>
                  <th  width="5%">
                      <div>{{'voucher_currency' |translate}}</div>
                      <div>{{'voucher_exchangerate' |translate}}</div>
                  </th>
                  <th>
                      <div>{{'voucher_rptdebitbase' |translate}}</div>
                      <div>{{'voucher_debitbase' |translate}}</div>
                  </th>
                  <th>
                      <div>{{'voucher_rptcreditbase' |translate}}</div>
                      <div>{{'voucher_creditbase' |translate}}</div>
                  </th>
                  <th width="20%">
                      <div class="d-flex">

                          <div class="col-sm-3">
                              <div>{{'voucher_costcenter' |translate}}</div>
                          </div>
                          <div class="col-sm-9">
                              <div>{{'voucher_costcentername' |translate}}</div>
                          </div>

                      </div>

                  </th>
                  <th class="">
                      <div>{{'voucher_note' |translate}}</div>
                  </th>
                  <th></th>
              </tr>
          </thead>

          <tbody>
              <tr *ngFor="let vj of this.voucherJournal.journalVoucherDetails; let i = index">
                  <td>
                  </td>

                  <td>
                      <!-- <input class="form-control form-control-sm text-center fullHeightInput d-none txtAccountId" type="text" required />
                      <input class="form-control form-control-sm text-center fullHeightInput d-none  txtAccountIsCostCenter" type="text" required /> -->
                      <input #accountNumber = "ngModel" class="form-control form-control-sm text-center fullHeightInput" type="text" title="{{'voucher_choseaccounttitle' |translate}}" required  name="{{'txtAccountNo' + i}}" [(ngModel)]="vj.accountNo" (dblclick)="AccountOpenPopup(i)" [disabled]="isUpdate" (change)="addAccountItemByAccountNo(accountNumber.value,i)"
                      [ngClass]="{'is-invalid': accountNumber.invalid && (accountNumber.touched || accountNumber.dirty)}"/>
                      <!-- (blur)="setFocus(table,$event.target,4) -->
                    <!-- onblur="funFoucus('txtDebitCurrency')" -->
                  </td>
                  <td>
                    <textarea *ngIf="vj.account" class="form-control form-control-sm text-center fullHeightInput" type="text" required readonly name="{{'txtAccountName' + i}}" [(ngModel)]="vj.account.nameL1" [disabled]="isUpdate"></textarea>
                  </td>
                  <td>
                      <!-- <input class="form-control form-control-sm text-center   txtAccountCurrency d-none" type="text" required disabled /> -->
                      <input *ngIf="vj.currency" class="form-control form-control-sm text-center" type="text" required disabled name="{{'txtCurrencyName' + i}}" [(ngModel)]="vj.currency.nameL1"/>
                    <input class="form-control form-control-sm text-center" type="text" required disabled name="{{'txtCurrencyExchange' + i}}" [(ngModel)]="vj.currencyExchange"/>
                  </td>
                  <td>
                    <input #debit="ngModel" class="form-control form-control-sm text-center font-weight-bold" (change)="totalDebitCreditCalculate();" value="0" type="number" min=0 required name="{{'txtDebitCurrency' + i}}" [(ngModel)]="vj.debit" (ngModelChange)="vj.debitDefaultCurrency = (vj.debit || 0) * (vj.currencyExchange || 0)" [disabled]="isUpdate"
                    [ngClass]="{'is-invalid': debit.invalid && (debit.touched || debit.dirty)}"/>
                    <input class="form-control form-control-sm text-center font-weight-bold" type="number" value="0" min=0 required disabled name="{{'txtDebitBase' + i}}" [(ngModel)]="vj.debitDefaultCurrency"/>
                  </td>
                  <td>
                    <input #credit="ngModel" class="form-control form-control-sm text-center font-weight-bold" (change)="totalDebitCreditCalculate();" value="0" type="number" min=0 required name="{{'txtCreditCurrency' + i}}" [(ngModel)]="vj.credit" (ngModelChange)="vj.creditDefaultCurrency = (vj.credit || 0) * (vj.currencyExchange || 0)" [disabled]="isUpdate"
                    [ngClass]="{'is-invalid': credit.invalid && (credit.touched || credit.dirty)}"/>
                    <input class="form-control form-control-sm text-center font-weight-bold" value="0" type="number" min=0 required disabled name="{{'txtCreditBase' + i}}" [(ngModel)]="vj.creditDefaultCurrency"/>
                  </td>
                  <td class="d-flex">
                        <div class="col-sm-4 p-0">
                            <!-- <input class="form-control form-control-sm text-center fullHeightInput d-none txtCostCenterId" type="text" required /> -->
                            <!-- <input class="form-control form-control-sm text-center col-sm-4 p-0 fullHeightInput"  title="{{'voucher_chosecostcentertitle' |translate}}" type="text"  readonly name="{{'txtCostCenterId' + i}}" [(ngModel)]="vj.costCenterId" (dblclick)="CostCenterOpenPopup(vj.accountId,i)" [disabled]="isUpdate"/> -->
                            <input *ngIf="vj.costCenter" class="form-control form-control-sm text-center col-sm-4 p-0 fullHeightInput"  title="{{'voucher_chosecostcentertitle' |translate}}" type="text"  readonly name="{{'txtCostCenterCode' + i}}" [(ngModel)]="vj.costCenter.code" (dblclick)="CostCenterOpenPopup(vj.accountId,i)" [disabled]="isUpdate"/>
                          <!-- onblur="funFoucus('txtNote')" -->
                        </div>
                        <div class="col-sm-8 p-0">
                          <input *ngIf="vj.costCenter" class="form-control form-control-sm text-center col-sm-8 p-0 fullHeightInput" type="text"  readonly name="{{'txtCostCenterName' + i}}" [(ngModel)]="vj.costCenter.nameL1"/>
                        </div>
                  </td>
                  <td>
                    <textarea class="form-control form-control-sm text-center txtNote" style="height:50px" name="{{'txtNotes' + i}} " [(ngModel)]="vj.notes" [disabled]="isUpdate"></textarea>
                  </td>
                  <td>
                    <button class="btn btn-light btn-sm btnGLVoucherDtlDelete" (click)="removeItemDetail(i)" [disabled]="isUpdate"><i class="fa fa-trash"></i>
                    </button>
                  </td>
              </tr>
          </tbody>


            <tfoot>
              <tr>
                <td>
                    <button type="button" class="btn btn-light btn-sm border btnAddRow" (click)="addItemDetail()" [disabled]="isUpdate">
                        <i class="fa fa-plus-circle"></i>
                    </button>
                </td>

                <td>
                    <!-- <input class="form-control form-control-sm text-center fullHeightInput d-none" type="text" required name="txtNewAccountId" [(ngModel)]="newVoucherJournalDetail.accountId"/> -->
                    <!-- <input class="form-control form-control-sm text-center fullHeightInput d-none  txtAccountIsCostCenter" type="text" required /> -->
                    <input #newAccountNo class="form-control form-control-sm text-center fullHeightInput" type="text" title="{{'voucher_choseaccounttitle' |translate}}"  name="txtNewAccountNo" [(ngModel)]="newVoucherJournalDetail.accountNo" (dblclick)="AccountOpenPopup()" [disabled]="isUpdate"
                      (change)="addAccountItemByAccountNo(newAccountNo.value);"/>
                      <!-- (blur)="setFocus(table,$event.target,4)" -->
                     <!-- (click)="addItemDetail()" -->
                    <!-- onblur="funFoucus('txtDebitCurrency')" -->
                </td>
                <td>
                    <textarea *ngIf="newVoucherJournalDetail.account" class="form-control form-control-sm text-center fullHeightInput" type="text" readonly name="txtNewAccountName" [(ngModel)]="newVoucherJournalDetail.account.nameL1"></textarea>
                </td>
                <td>
                  <!-- <input class="form-control form-control-sm text-center   txtAccountCurrency d-none" type="text" required disabled /> -->
                    <input *ngIf="newVoucherJournalDetail.currency" class="form-control form-control-sm text-center" type="text" disabled name="txtNewCurrencyName" [(ngModel)]="newVoucherJournalDetail.currency.nameL1"/>
                    <input class="form-control form-control-sm text-center" type="text" required disabled name="txtNewCurrencyExchange" [(ngModel)]="newVoucherJournalDetail.currencyExchange"/>
                </td>
                <td>
                    <input class="form-control form-control-sm text-center font-weight-bold" value="0" type="number" min=0  name="txtNewDebitCurrency" [(ngModel)]="newVoucherJournalDetail.debit" (ngModelChange)="newVoucherJournalDetail.debitDefaultCurrency = (newVoucherJournalDetail.debit || 0) * (newVoucherJournalDetail.currencyExchange || 0)" [disabled]="isUpdate" 
                    (change)="addItemDetail();totalDebitCreditCalculate();" (blur)="setFocus(table,$event.target)"/>
                    <input class="form-control form-control-sm text-center font-weight-bold" type="number" value="0" min=0 disabled name="txtNewDebitBase" [(ngModel)]="newVoucherJournalDetail.debitDefaultCurrency"/>
                </td>
                <td>
                    <input class="form-control form-control-sm text-center font-weight-bold" value="0" type="number" min=0 name="txtNewCreditCurrency" [(ngModel)]="newVoucherJournalDetail.credit" (ngModelChange)="newVoucherJournalDetail.creditDefaultCurrency = (newVoucherJournalDetail.credit || 0) * (newVoucherJournalDetail.currencyExchange || 0)" [disabled]="isUpdate"
                    (change)="addItemDetail();totalDebitCreditCalculate();" (blur)="setFocus(table,$event.target)"/>
                    <input class="form-control form-control-sm text-center font-weight-bold" value="0" type="number" min=0 disabled name="txtNewCreditBase" [(ngModel)]="newVoucherJournalDetail.creditDefaultCurrency"/>
                </td>
                <td>
                    <div class="d-flex">
                        <div class="col-sm-4 p-0">                           
                            <input class="form-control form-control-sm text-center fullHeightInput"   type="text" readonly name="txtNewCostCenterId" [(ngModel)]="newVoucherJournalDetail.costCenterId" (dblclick)="CostCenterOpenPopup(newVoucherJournalDetail.accountId)"  [disabled]="isUpdate"/>                      
                        </div>
                        <div class="col-sm-8 p-0">
                            <input *ngIf="newVoucherJournalDetail.costCenter" class="form-control form-control-sm text-center fullHeightInput" type="text" readonly name="txtNewCostCenterName" [(ngModel)]="newVoucherJournalDetail.costCenter.nameL1"/>
                        </div>
                    </div>
                </td>


                <td>
                    <textarea class="form-control form-control-sm text-center txtNote" style="height:50px"  name="txtNewNotes" [(ngModel)]="newVoucherJournalDetail.notes" [disabled]="isUpdate" (change)="addItemDetail()"></textarea>                    
                </td>
        
                
            </tr>
            </tfoot>
      </table>

      <!-- Details Footer -->
      <table class="table table-sm tblFooter border-0">
          <tbody class="">
              <tr class="d-flex">
                  <td class="col-sm-5">
                      <label class="small float-right mx-1 pt-2">{{'voucher_total' |translate}}</label>
                  </td>
                  <td class="col-sm-2">
                      <input class="form-control form-control-sm text-center disabled font-weight-bold txtTotalDebit " name="txtTotalDebit" disabled type="number" min=0  [(ngModel)]="totalDebit" />
                  </td>
                  <td class="col-sm-2">
                      <input class="form-control form-control-sm text-center disabled font-weight-bold   txtTotalCredit" name="txtTotalCredit" disabled type="number" min=0  [(ngModel)]="totalCredit"/>
                  </td>
                  <td class="col-sm-3">
                      <div class="d-flex">
                          <label class="small mx-1 pt-2">{{'voucher_diff' |translate}}</label>
                          <input class="form-control form-control-sm text-center disabled txtDiff font-weight-bold" name="txtTotalDifference" disabled type="text"  [(ngModel)]="totalDifference" />
                      </div>

                  </td>
              </tr>
          </tbody>

      </table>
  </div>
</form>

</div>








    <!-----------------------------------------Modal All------------------------------------------>
    <div class="modal" tabindex="-1" role="dialog" [ngStyle]="{'display':displayStyle}" >
        <div class="modal-dialog modal-xl" role="document">
          <div class="modal-content modal-inside-scroll">
            <div class="modal-header">
              <h4 class="modal-title" style="color: black;">{{'search'|translate}}</h4>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="closePopup()" >
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <p>
                <input type="text" placeholder="{{'search'|translate}}" [(ngModel)]="textFilterModel" class="form-control col-md-6" (keyup)="modalSearchKeyUp()">
              </p>
              <div class="row">
                <div class="form-group col-md-3">
                  <label>{{'from'|translate}}</label>
                  <input type="date" placeholder="From" [(ngModel)]="dateFromFilterModel" class="form-control" (change)="onChangeDate()">
                </div>
                <div class="form-group col-md-3">
                  <label>{{'to'|translate}}</label>
                  <input type="date" placeholder="To" [(ngModel)]="dateToFilterModel" class="form-control" (change)="onChangeDate()"> 
                </div>
                <div class="form-group col-md-3">
                  <label>{{'voucher_refdate'|translate}}</label>
                  <input type="date" placeholder="To" [(ngModel)]="dateReferenceFilterModel" class="form-control" (change)="onChangeDateRef()"> 
                </div>
                <div class="form-group col-md-2">
                  <label>&nbsp;</label>
                  <input type="button" value="{{'search_dates'|translate}}" class="btn btn-primary" (click)="filterListByDate()"/>
                </div>
              </div>         
                          
            <table class="table">
              <thead>
                <th>
                  {{'voucher_glvoucherno'|translate}}
                </th>
                <th>
                  {{'date'|translate}}
                </th>
                <th>
                  {{'voucher_glvoucherref'|translate}}
                </th>
                <th>
                  {{'voucher_glvoucherrefdate'|translate}}
                </th>
                <th>
                  {{'voucher_transactionsource'|translate}}
                </th>
                <th>
                  {{'voucher_statement'|translate}}
                </th>
              </thead>
              <tbody>
                <tr *ngFor="let vj of voucherJournalList | voucherjournalfilter:textFilterModel:dateFromFilterModel:dateToFilterModel:dateReferenceFilterModel:isDateFilter:isDateRefFilter">
                  <td>{{vj.id}}</td>
                  <td>{{vj.date | date :'yyyy-MM-dd'}}</td> 
                  <td>{{vj.referenceNumber}}</td>
                  <td>{{vj.referenceDate}}</td>                 
                  <td><div *ngIf="vj.sourceTypeId">{{sourceTypeName}}</div></td>
                  <!-- <td>{{'voucher_accounts' |translate}}</td> -->
                  <td>{{vj.notes}}</td>                   
                  <td><input type="button" value="{{'select'|translate}}" class="btn btn-link" (click)="voucherJournalGetById(vj.id);closePopup()" /></td>            
                </tr>
              </tbody>
            </table>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-danger" 
                      (click)="closePopup()">
                      {{'close'|translate}}
              </button>
            </div>
          </div>
        </div>
      </div>


      <!-----------------------------------------Modal Account------------------------------------------>
    <div class="modal" tabindex="-1" role="dialog" [ngStyle]="{'display':displayAccountStyle}" >
      <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content modal-inside-scroll">
          <div class="modal-header">
            <h4 class="modal-title" style="color: black;">{{'account_accountdirectory'|translate}}</h4>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="AccountClosePopup()" >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <p>
              <input type="text" placeholder="{{'search'|translate}}" [(ngModel)]="textFilterModel" class="form-control col-md-6">
            </p>            
                        
          <table class="table">            
            <tbody>          
              <tr *ngFor="let acc of accountList | accountfilter:textFilterModel, let i =index" class='clickable-row' (dblclick)="addAccountItemById(acc.id || 0);AccountClosePopup();
              ">     
                <!-- setFocus(table,$event.target,4); -->
                <td>{{acc.accountNo}} </td>
                <td> {{acc.nameL1}}  </td>                                                     
              </tr>     
            </tbody>
          </table>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-danger" 
                    (click)="AccountClosePopup()">
                    {{'close'|translate}}
            </button>
          </div>
        </div>
      </div>
    </div>



    <!-----------------------------------------Modal Cost Center------------------------------------------>
    <div class="modal" tabindex="-1" role="dialog" [ngStyle]="{'display':displayCostCenterStyle}" >
      <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content modal-inside-scroll">
          <div class="modal-header">
            <h4 class="modal-title" style="color: black;">{{'costcenter_costcenter'|translate}}</h4>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="CostCenterClosePopup()" >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <p>
              <input type="text" placeholder="{{'search'|translate}}" [(ngModel)]="textFilterModel" class="form-control col-md-6">
            </p>            
                        
          <table class="table">            
            <tbody>          
              <tr *ngFor="let cost of costCenterList | costcenterfilter:textFilterModel, let i =index" class='clickable-row' (dblclick)="addCostCenterItem(cost.id || 0);CostCenterClosePopup();setFocus(table,$event.target,7);">     
                <td>{{cost.code}} </td>
                <td> {{cost.nameL1}}  </td>                                                     
              </tr>     
            </tbody>
          </table>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-danger" 
                    (click)="CostCenterClosePopup()">
                    {{'close'|translate}}
            </button>
          </div>
        </div>
      </div>
    </div>